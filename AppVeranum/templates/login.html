{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veranum</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css ">
    <script src="{% static 'js/jquery-3.6.0.js' %}"type="text/javascript"></script>
</head>
<body>
    <div class="navbar-brand">        
        <img id="logo" class="img-login" src="{% static 'images/Horizontal.png' %}" alt=""><br>
    </div> 
    <div class = "form">
        <form class="login-form" action="" method="post">
            <i class="fas fa-user"></i>
            <input class="user-input" type="text" name="" placeholder="Email" required>
            <input class="user-input" type="password" name="" placeholder="Password" required>
            <div class="option-01">
                <label class="remember-me"><input type="checkbox" name="">Recuérdame</label>
                <a href='#'>¿Olvidaste tu contraseña?</a>
            </div>
            <a class="btn" type="submit" href="formularioSalon.html" >Ingresar</a>
            <div class="option-02">
                <p>¿No tienes cuenta aun? <a href="#">Crear una cuenta</a></p>
            </div>
        </form>
        <form id="registro" class="signup-form" action="" method="post">
            <div id="alerta" style="display: none; text-align: center;">
                Error en formulario
            </div>
            <i class="fas fa-user-plus"></i>
            <input id="rut" class="user-input" type="text" name="" placeholder="RUT o Pasaporte" required>
            <input id="nombre" class="user-input" type="text" name="" placeholder="Nombre" required>
            <input id="appaterno" class="user-input" type="text" name="" placeholder="Apellido Paterno" required>
            <input id="apmaterno"class="user-input" type="text" name="" placeholder="Apellido Materno (Opcional)">
            <input id="email" class="user-input" type="text" name="" placeholder="Email" required>
            <input id="password" class="user-input" type="password" name="" placeholder="Password" required>
            <input id="passwordR" class="user-input" type="password" name="" placeholder="Repite Password" required>
            <input id="signUp"class="btn" type="submit" name="" value="Crear Cuenta">
            <div class="option-02">
                <p>¿Ya estas registrado? <a href="#">Ingresar</a></p>
            </div>
        </form>  
    </div>   

     <script type="text/javascript">
     $('.option-02 a').click(function(){
        $('form').animate({
            height: "toggle", opacity:"toggle"
        }, "slow")
     });
     </script>
    </body>
    <script>
        var nombrePatron = new RegExp("^[A-Za-zÁÉÍÓÚáéíóúñÑ ]+$");
        var emailPatron = new RegExp("^[a-zA-Z0-9._-]+@[a-zA-Z0-9-]+.[a-z]{2,4}$");
        var rutPatron = new RegExp("^[A-Z0-9.-]{8,14}$");
        var passPatron = new RegExp("^[a-zA-Z0-9_.-]*$");
        function validaTexto(idInput,patron){
            return $(idInput).val().match(patron) ? true : false;
        }

        function validaSelect(idSelect){
            return $(idSelect).val() ? true : false;
        }

        $(
            function(){
                $("#registro").submit(
                    function(e){
                        var valido = true;
                        if(!validaTexto("#rut",rutPatron))
                        {
                            valido = false;
                            $("#rut").addClass("error");
                        }
                        if(!validaTexto("#nombre",nombrePatron))
                        {
                            valido = false;
                            $("#nombre").addClass("error");
                        }
                        if(!validaTexto("#appaterno",nombrePatron))
                        {
                            valido = false;
                            $("#appaterno").addClass("error");
                        }
                        if(!validaTexto("#email",emailPatron))
                        {
                            valido = false;
                            $("#email").addClass("error");
                        }
                        if(!validaTexto("#password",passPatron))
                        {
                            valido = false;
                            $("#password").addClass("error");
                        }
                        if(!validaTexto("#passwordR",passPatron))
                        {
                            valido = false;
                            $("#passwordR").addClass("error");
                        }
                        if(!valido)
                        {
                            $("#alerta").show();
                            e.preventDefault();
                        }
                        else
                        {
                            alert("Datos ingresados satisfactoriamente.");
                        }
                    }
                );
                
                $("#rut").hover(
                    function()
                    {
                        $("#alerta").hide();
                        $("#nombre").removeClass("error");
                        $("#appaterno").removeClass("error");
                        $("#apmaterno").removeClass("error");
                        $("#email").removeClass("error");
                        $("#password").removeClass("error");
                        $("#passwordR").removeClass("error");
                        $("#rut").removeClass("error");
                    }
                );

            }
        );
    </script>
</html>